import{_ as t}from"./plugin-vue_export-helper.21dcd24c.js";import{o,c as e,d as a,a as s,e as n}from"./app.5e87ad87.js";const p={},u=a('<div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u76EE\u524D\u6846\u67B6\u63D0\u4F9B\u4E86\u4E09\u79CD\u76D1\u63A7\u6570\u636E\u91C7\u96C6\u65B9\u5F0F\uFF0C\u901A\u8FC7 collectType \u5C5E\u6027\u914D\u7F6E\u76D1\u63A7\u6307\u6807\u91C7\u96C6\u7C7B\u578B\uFF0C\u9ED8\u8BA4 logging</p><p>1.jsonlog\uFF1A\u7EBF\u7A0B\u6C60\u6307\u6807\u6570\u636E\u4F1A\u4EE5 json \u683C\u5F0F\u8F93\u51FA\u5230\u6307\u5B9A\u7684\u6587\u4EF6\u91CC</p><p>2.micrometer\uFF1A\u91C7\u7528\u76D1\u63A7\u95E8\u9762\uFF0C\u901A\u8FC7\u5F15\u5165\u76F8\u5173 micrometer \u4F9D\u8D56\u91C7\u96C6\u5230\u76F8\u5E94\u7684\u5B58\u50A8\u5E73\u53F0\u91CC\uFF08\u5982 Prometheus\uFF0CInfluxDb...\uFF09</p><p>3.\u66B4\u96F7 Endpoint\u7AEF\u70B9\uFF0C\u53EF\u4EE5\u901A\u8FC7 http \u65B9\u5F0F\u5B9E\u65F6\u83B7\u53D6\u6307\u6807\u6570\u636E</p></div><h3 id="micrometer" tabindex="-1"><a class="header-anchor" href="#micrometer" aria-hidden="true">#</a> micrometer</h3><p>\u5F15\u5165prometheus\uFF08\u4E5F\u53EF\u4EE5\u7528\u5176\u4ED6\uFF09 \u5BF9\u5E94\u4F9D\u8D56\uFF0Cjob\u914D\u7F6E\u540Eprometheus\u7BA1\u7406\u53F0\u770B\u5230\u5982\u4E0B\u56FE\u6240\u793A\uFF0C\u8BF4\u660E\u5DF2\u7ECF\u5F00\u59CB\u6B63\u5E38\u91C7\u96C6\u6307\u6807\u914D\u7F6E</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/435f0a69790946f8bff7761c40a0a0db~tplv-k3u1fbpfcp-zoom-1.image" alt="\u91C7\u96C6\u6307\u6807" loading="lazy"></p><h3 id="logging" tabindex="-1"><a class="header-anchor" href="#logging" aria-hidden="true">#</a> logging</h3>',5),l=s("p",null,[n("\u6307\u6807\u6570\u636E\u4EE5 json \u65E5\u5FD7\u683C\u5F0F\u8F93\u51FA\u78C1\u76D8\uFF0C\u5730\u5740 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mrow",null,[s("mi",null,"l"),s("mi",null,"o"),s("mi",null,"g"),s("mi",null,"P"),s("mi",null,"a"),s("mi",null,"t"),s("mi",null,"h")]),s("mi",{mathvariant:"normal"},"/"),s("mi",null,"d"),s("mi",null,"y"),s("mi",null,"n"),s("mi",null,"a"),s("mi",null,"m"),s("mi",null,"i"),s("mi",null,"c"),s("mi",null,"t"),s("mi",null,"p"),s("mi",{mathvariant:"normal"},"/")]),s("annotation",{encoding:"application/x-tex"},"{logPath}/dynamictp/")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"mord"},[s("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathnormal"},"o"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mord mathnormal"},"a"),s("span",{class:"mord mathnormal"},"t"),s("span",{class:"mord mathnormal"},"h")]),s("span",{class:"mord"},"/"),s("span",{class:"mord mathnormal"},"d"),s("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mord mathnormal"},"nami"),s("span",{class:"mord mathnormal"},"c"),s("span",{class:"mord mathnormal"},"tp"),s("span",{class:"mord"},"/")])])]),n("{appName}.monitor.log")],-1),i=a(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">{</span><span class="token string">&quot;datetime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2022-04-17 11:35:15.208&quot;</span>, <span class="token string">&quot;app_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;dynamic-tp-nacos-cloud-demo&quot;</span>, <span class="token string">&quot;thread_pool_metrics&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;activeCount&quot;</span>:0,<span class="token string">&quot;queueSize&quot;</span>:0,<span class="token string">&quot;largestPoolSize&quot;</span>:0,<span class="token string">&quot;poolSize&quot;</span>:0,<span class="token string">&quot;rejectHandlerName&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;CallerRunsPolicy&quot;</span>,<span class="token string">&quot;queueCapacity&quot;</span>:2000,<span class="token string">&quot;fair&quot;</span>:false,<span class="token string">&quot;queueTimeoutCount&quot;</span>:0,<span class="token string">&quot;rejectCount&quot;</span>:0,<span class="token string">&quot;waitTaskCount&quot;</span>:0,<span class="token string">&quot;taskCount&quot;</span>:0,<span class="token string">&quot;runTimeoutCount&quot;</span>:0,<span class="token string">&quot;queueRemainingCapacity&quot;</span>:2000,<span class="token string">&quot;corePoolSize&quot;</span>:4,<span class="token string">&quot;queueType&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;VariableLinkedBlockingQueue&quot;</span>,<span class="token string">&quot;completedTaskCount&quot;</span>:0,<span class="token string">&quot;dynamic&quot;</span>:true,<span class="token string">&quot;maximumPoolSize&quot;</span>:6,<span class="token string">&quot;poolName&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;dtpExecutor1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&quot;datetime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2022-04-17 11:35:15.209&quot;</span>, <span class="token string">&quot;app_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;dynamic-tp-nacos-cloud-demo&quot;</span>, <span class="token string">&quot;thread_pool_metrics&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;activeCount&quot;</span>:0,<span class="token string">&quot;queueSize&quot;</span>:0,<span class="token string">&quot;largestPoolSize&quot;</span>:0,<span class="token string">&quot;poolSize&quot;</span>:0,<span class="token string">&quot;rejectHandlerName&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;CallerRunsPolicy&quot;</span>,<span class="token string">&quot;queueCapacity&quot;</span>:2000,<span class="token string">&quot;fair&quot;</span>:false,<span class="token string">&quot;queueTimeoutCount&quot;</span>:0,<span class="token string">&quot;rejectCount&quot;</span>:0,<span class="token string">&quot;waitTaskCount&quot;</span>:0,<span class="token string">&quot;taskCount&quot;</span>:0,<span class="token string">&quot;runTimeoutCount&quot;</span>:0,<span class="token string">&quot;queueRemainingCapacity&quot;</span>:2000,<span class="token string">&quot;corePoolSize&quot;</span>:2,<span class="token string">&quot;queueType&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;TaskQueue&quot;</span>,<span class="token string">&quot;completedTaskCount&quot;</span>:0,<span class="token string">&quot;dynamic&quot;</span>:true,<span class="token string">&quot;maximumPoolSize&quot;</span>:4,<span class="token string">&quot;poolName&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;dtpExecutor2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&quot;datetime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2022-04-17 11:35:15.209&quot;</span>, <span class="token string">&quot;app_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;dynamic-tp-nacos-cloud-demo&quot;</span>, <span class="token string">&quot;thread_pool_metrics&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;activeCount&quot;</span>:0,<span class="token string">&quot;queueSize&quot;</span>:0,<span class="token string">&quot;largestPoolSize&quot;</span>:0,<span class="token string">&quot;poolSize&quot;</span>:0,<span class="token string">&quot;queueCapacity&quot;</span>:2147483647,<span class="token string">&quot;fair&quot;</span>:false,<span class="token string">&quot;queueTimeoutCount&quot;</span>:0,<span class="token string">&quot;rejectCount&quot;</span>:0,<span class="token string">&quot;waitTaskCount&quot;</span>:0,<span class="token string">&quot;taskCount&quot;</span>:0,<span class="token string">&quot;runTimeoutCount&quot;</span>:0,<span class="token string">&quot;queueRemainingCapacity&quot;</span>:2147483647,<span class="token string">&quot;corePoolSize&quot;</span>:1,<span class="token string">&quot;queueType&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;LinkedBlockingQueue&quot;</span>,<span class="token string">&quot;completedTaskCount&quot;</span>:0,<span class="token string">&quot;dynamic&quot;</span>:false,<span class="token string">&quot;maximumPoolSize&quot;</span>:1,<span class="token string">&quot;poolName&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;commonExecutor&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&quot;datetime&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2022-04-17 11:35:15.209&quot;</span>, <span class="token string">&quot;app_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;dynamic-tp-nacos-cloud-demo&quot;</span>, <span class="token string">&quot;thread_pool_metrics&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token string">&quot;activeCount&quot;</span>:0,<span class="token string">&quot;queueSize&quot;</span>:0,<span class="token string">&quot;largestPoolSize&quot;</span>:100,<span class="token string">&quot;poolSize&quot;</span>:100,<span class="token string">&quot;queueCapacity&quot;</span>:2147483647,<span class="token string">&quot;fair&quot;</span>:false,<span class="token string">&quot;queueTimeoutCount&quot;</span>:0,<span class="token string">&quot;rejectCount&quot;</span>:0,<span class="token string">&quot;waitTaskCount&quot;</span>:0,<span class="token string">&quot;taskCount&quot;</span>:177,<span class="token string">&quot;runTimeoutCount&quot;</span>:0,<span class="token string">&quot;queueRemainingCapacity&quot;</span>:2147483647,<span class="token string">&quot;corePoolSize&quot;</span>:100,<span class="token string">&quot;queueType&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;TaskQueue&quot;</span>,<span class="token string">&quot;completedTaskCount&quot;</span>:177,<span class="token string">&quot;dynamic&quot;</span>:false,<span class="token string">&quot;maximumPoolSize&quot;</span>:400,<span class="token string">&quot;poolName&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;tomcatWebServerTp&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="endpoint" tabindex="-1"><a class="header-anchor" href="#endpoint" aria-hidden="true">#</a> endpoint</h3><p>\u66B4\u9732\u7AEF\u70B9(dynamic-tp)\uFF0C\u53EF\u4EE5\u901A\u8FC7 http \u65B9\u5F0F\u8BF7\u6C42</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;pool_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;remoting-call&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;core_pool_size&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token property">&quot;maximum_pool_size&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token property">&quot;queue_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SynchronousQueue&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;queue_capacity&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;queue_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fair&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;queue_remaining_capacity&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;active_count&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;task_count&quot;</span><span class="token operator">:</span> <span class="token number">21760</span><span class="token punctuation">,</span>
        <span class="token property">&quot;completed_task_count&quot;</span><span class="token operator">:</span> <span class="token number">21760</span><span class="token punctuation">,</span>
        <span class="token property">&quot;largest_pool_size&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token property">&quot;pool_size&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
        <span class="token property">&quot;wait_task_count&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;reject_count&quot;</span><span class="token operator">:</span> <span class="token number">124662</span><span class="token punctuation">,</span>
        <span class="token property">&quot;reject_handler_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CallerRunsPolicy&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),c=[u,l,i];function r(q,m){return o(),e("div",null,c)}var d=t(p,[["render",r],["__file","way.html.vue"]]);export{d as default};
